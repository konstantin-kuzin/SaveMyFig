
# PRD: GUI –¥–ª—è Figma Export Tool

## –í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞: 2.0 (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 29 –æ–∫—Ç—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** Konstantin Kuzin  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** macOS  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## 1. –û–±–∑–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–∞

### 1.1 –û–ø–∏—Å–∞–Ω–∏–µ
–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (GUI) –¥–ª—è CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ [Figma-export](https://github.com/konstantin-kuzin/Figma-export), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—Å–æ–≤–æ —Å–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã Figma –≤ —Ñ–æ—Ä–º–∞—Ç–µ .fig/.jam/.deck. GUI —É–ø—Ä–æ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–∏–∑–∫–∏–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º —É—Ä–æ–≤–Ω–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏.

### 1.2 –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
- **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –î–∏–∑–∞–π–Ω–µ—Ä—ã, –º–µ–Ω–µ–¥–∂–µ—Ä—ã –ø—Ä–æ–µ–∫—Ç–æ–≤, –Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å:** –ù–∏–∑–∫–∏–π (—É–º–µ—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –Ω–æ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é—Ç GUI)
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã git –∏ Node.js

### 1.3 –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –±—ç–∫–∞–ø–æ–≤

---

## 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### 2.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Framework:** Electron v27+
- **Language:** TypeScript (–¥–ª—è MVP)
- **Runtime:** Node.js v20 LTS
- **Database:** SQLite3 (better-sqlite3)
- **Automation:** Playwright (–∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞)
- **Process Management:** execa –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥
- **Node.js Distribution:** Bundled –∏–ª–∏ System + Homebrew

### 2.2 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ GUI
```json
{
  "dependencies": {
    "electron": "^27.0.0",
    "better-sqlite3": "^9.0.0",
    "dotenv": "^16.0.0",
    "execa": "^8.0.0"
  },
  "devDependencies": {
    "@electron/rebuild": "^3.3.0",
    "typescript": "^5.0.0",
    "@types/node": "^20.0.0",
    "@types/better-sqlite3": "^7.6.0"
  }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `electron-store` **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –≤ MVP. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `.env` —Ñ–∞–π–ª–µ.

### 2.3 –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–¥–ª—è v2)
- `xterm` ‚Äî —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π —ç–º—É–ª—è—Ç–æ—Ä —Å —Ü–≤–µ—Ç–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
- `chart.js` ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `papaparse` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### 3.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
figma-export/
‚îú‚îÄ‚îÄ gui/                          # GUI –æ–±–µ—Ä—Ç–∫–∞ (–Ω–æ–≤–∞—è)
‚îÇ   ‚îú‚îÄ‚îÄ package.json             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ GUI
‚îÇ   ‚îú‚îÄ‚îÄ main.ts                  # Main process (Electron)
‚îÇ   ‚îú‚îÄ‚îÄ preload.ts               # Preload script (IPC bridge)
‚îÇ   ‚îú‚îÄ‚îÄ renderer/                # Renderer process
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html          # UI markup
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles.css          # –°—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ renderer.ts         # UI –ª–æ–≥–∏–∫–∞ –Ω–∞ TypeScript
‚îÇ   ‚îî‚îÄ‚îÄ utils/                   # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ node-checker.ts     # –ü—Ä–æ–≤–µ—Ä–∫–∞ Node.js
‚îÇ       ‚îú‚îÄ‚îÄ installer.ts        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ       ‚îú‚îÄ‚îÄ env-manager.ts      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ .env
‚îÇ       ‚îú‚îÄ‚îÄ db-reader.ts        # –ß—Ç–µ–Ω–∏–µ SQLite
‚îÇ       ‚îú‚îÄ‚îÄ script-runner.ts    # –ó–∞–ø—É—Å–∫ npm —Å–∫—Ä–∏–ø—Ç–æ–≤ (execa)
‚îÇ       ‚îú‚îÄ‚îÄ validator.ts        # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞
‚îÇ       ‚îî‚îÄ‚îÄ logger.ts           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ scripts/                      # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (–ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π)
‚îú‚îÄ‚îÄ playwright.config.ts         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Playwright
‚îú‚îÄ‚îÄ package.json                 # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π package.json
‚îú‚îÄ‚îÄ .env                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ GUI)
‚îú‚îÄ‚îÄ files.json                   # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ figma_backups.db            # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite)
‚îú‚îÄ‚îÄ logs/                        # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ figma-export-gui.log    # –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥-—Ñ–∞–π–ª
‚îî‚îÄ‚îÄ start-gui.command            # –õ–∞—É–Ω—á–µ—Ä –¥–ª—è macOS
```

### 3.2 Electron Architecture
- **Main Process** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–æ–º, —Å–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, IPC handlers, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Renderer Process** ‚Äî UI, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω)
- **Preload Script** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π IPC bridge (contextBridge)

### 3.3 –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
1. **–ù–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç** ‚Äî GUI —Ç–æ–ª—å–∫–æ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç CLI
2. **–ò–∑–æ–ª—è—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî GUI –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ `gui/`
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî Context Isolation, Preload API, no nodeIntegration
4. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** ‚Äî –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **TypeScript** ‚Äî —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

---

## 4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 4.1 –≠–∫—Ä–∞–Ω "Welcome / Installation"
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### –§—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Node.js
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Node.js (—Ç—Ä–µ–±—É–µ—Ç—Å—è v20+)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Node.js (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–ª–∏ Homebrew)
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ npm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–æ—Ä–Ω–µ–≤–æ–≥–æ `package.json`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Playwright browsers (`npx playwright install`)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- ‚úÖ –õ–æ–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–µ –æ–∫–Ω–æ)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ npm –∫–æ–º–∞–Ω–¥:
```typescript
// –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ execa
try {
  const result = await execa('npm', ['install'], {
    cwd: projectRoot,
    stdio: 'pipe',
    timeout: 600000 // 10 –º–∏–Ω—É—Ç
  });
  
  // –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  notifyRenderer('install-complete', { success: true });
} catch (error) {
  if (error.signal === 'SIGTERM') {
    notifyRenderer('install-error', {
      type: 'timeout',
      message: '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–µ–≤—ã—à–∏–ª–∞ –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ (10 –º–∏–Ω—É—Ç)'
    });
  } else if (error.code !== 0) {
    notifyRenderer('install-error', {
      type: 'exit-code',
      code: error.code,
      message: `npm install –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏ ${error.code}`,
      stderr: error.stderr
    });
  } else if (error.killed) {
    notifyRenderer('install-error', {
      type: 'killed',
      message: '–ü—Ä–æ—Ü–µ—Å—Å –±—ã–ª –ø—Ä–µ—Ä–≤–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º'
    });
  }
}
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ macOS:
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
const checkPermissions = async () => {
  const brewPath = '/usr/local/bin';
  try {
    fs.accessSync(brewPath, fs.constants.W_OK);
    return { canWrite: true };
  } catch {
    // –ü–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ sudo
    const result = await execa('sudo', ['-n', 'echo', 'test']);
    if (result.code === 0) {
      return { canWrite: true, needsSudo: true };
    }
    return { 
      canWrite: false, 
      suggestion: '–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ä–æ–ª—å sudo –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Homebrew' 
    };
  }
};

// –ï—Å–ª–∏ –Ω—É–∂–µ–Ω sudo
if (needsSudo) {
  await execa('sudo', ['/usr/local/bin/brew', 'install', 'node@20']);
}
```

#### UX Flow:
1. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ Node.js
2. –ï—Å–ª–∏ Node.js –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
3. –ï—Å–ª–∏ Node.js < v20 ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Configuration

---

### 4.2 –≠–∫—Ä–∞–Ω "Configuration"
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

#### 4.2.1 –°–µ–∫—Ü–∏—è: Figma Access Token
- –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ (type="password") –¥–ª—è —Ç–æ–∫–µ–Ω–∞
- –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å (üëÅÔ∏è icon)
- –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞: `figd_...`

#### 4.2.2 –°–µ–∫—Ü–∏—è: Figma Accounts
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

**–í–∞—Ä–∏–∞–Ω—Ç A: Email + Password**
```env
FIGMA_ACCOUNT_1_TYPE="password"
FIGMA_ACCOUNT_1_EMAIL="user@example.com"
FIGMA_ACCOUNT_1_PASSWORD="password123"
```

**–í–∞—Ä–∏–∞–Ω—Ç B: Auth Cookie**
```env
FIGMA_ACCOUNT_2_TYPE="cookie"
FIGMA_ACCOUNT_2_AUTH_COOKIE="__Host-figma.authn=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
```

- Dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ (Email/Password –∏–ª–∏ Cookie)
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –≤–≤–æ–¥–æ–≤ (—Å–∫—Ä—ã—Ç—ã/–ø–æ–∫–∞–∑–∞–Ω—ã –ø–æ —Ç–∏–ø—É)
- –ö–Ω–æ–ø–∫–∞ "üîê –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø" (—Ç–µ—Å—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏)
- –ö–Ω–æ–ø–∫–∞ "üóëÔ∏è –£–¥–∞–ª–∏—Ç—å" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- –ö–Ω–æ–ø–∫–∞ "+ –î–æ–±–∞–≤–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç"

#### 4.2.3 –°–µ–∫—Ü–∏—è: –ü—É—Ç–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
```typescript
const validationRules = {
  // FIGMA_ACCESS_TOKEN
  token: {
    required: true,
    format: /^figd_[a-zA-Z0-9_-]{36,}$/,
    minLength: 40,
    message: '–¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å "figd_" –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 40 —Å–∏–º–≤–æ–ª–æ–≤'
  },
  
  // DOWNLOAD_PATH
  downloadPath: {
    required: true,
    checkWritable: true, // fs.accessSync(path, fs.constants.W_OK)
    supportedChars: /^[a-zA-Z0-9_\-/.~@(): ]+$/,
    message: '–ü–∞–ø–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏'
  },
  
  // WAIT_TIMEOUT (–º—Å)
  waitTimeout: {
    required: true,
    type: 'number',
    min: 5000,
    max: 60000,
    default: 10000,
    message: '–¢–∞–π–º–∞—É—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 5000 –¥–æ 60000 –º—Å'
  },
  
  // MAX_FILES
  maxFiles: {
    required: true,
    type: 'number',
    min: 1,
    max: 200,
    default: 45,
    message: '–ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 200'
  },
  
  // RETRY_DELAY_HOURS
  retryDelayHours: {
    required: true,
    type: 'number',
    min: 1,
    max: 720,
    default: 72,
    message: '–ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–≤—Ç–æ—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç 1 –¥–æ 720 —á–∞—Å–æ–≤'
  },
  
  // Team IDs –∏ Project IDs
  ids: {
    format: /^[a-zA-Z0-9:,\s]+$/,
    maxCount: 50,
    message: '–ú–∞–∫—Å–∏–º—É–º 50 ID –∑–∞ —Ä–∞–∑ (—Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –∑–∞–ø—è—Ç–æ–π –∏–ª–∏ –ø—Ä–æ–±–µ–ª–æ–º)'
  }
};
```

**UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **DOWNLOAD_PATH:**
  - –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ (readonly)
  - –ö–Ω–æ–ø–∫–∞ "üìÅ –í—ã–±—Ä–∞—Ç—å..." ‚Üí –Ω–∞—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏
- **WAIT_TIMEOUT:** —á–∏—Å–ª–æ (–º—Å), default 10000, min 5000, max 60000
- **MAX_FILES:** —á–∏—Å–ª–æ, default 45, min 1, max 200
- **RETRY_DELAY_HOURS:** —á–∏—Å–ª–æ, default 72, min 1, max 720

#### 4.2.4 –°–µ–∫—Ü–∏—è: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è files.json

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Figma API (–¥–ª—è MVP):**
- –í MVP –Ω–µ –±—É–¥–µ—Ç –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤ (–æ–∂–∏–¥–∞–µ—Ç—Å—è –¥–æ 50-100 —Ñ–∞–π–ª–æ–≤)
- API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: `/v1/teams/{team_id}/files` –∏–ª–∏ `/v1/projects/{project_id}/files`
- Rate Limits –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è MVP, –Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –±–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

**UI:**
- Radio buttons:
  - ‚ö™ –ü–æ Team IDs
  - ‚ö™ –ü–æ Project IDs
- –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è ID (—á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª –∏–ª–∏ –∑–∞–ø—è—Ç—É—é, max 50)
- –ö–Ω–æ–ø–∫–∞ "üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å files.json"
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ—à–∏–±–æ–∫:**
```typescript
try {
  // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞
  if (!token || !token.startsWith('figd_')) {
    throw new Error('–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω Figma');
  }
  
  // 2. –í—ã–∑–æ–≤ Figma API
  const response = await fetch(
    `https://api.figma.com/v1/teams/${teamId}/files`,
    { headers: { 'X-FIGMA-TOKEN': token } }
  );
  
  if (response.status === 401) {
    throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω (401 Unauthorized)');
  }
  if (response.status === 403) {
    throw new Error('–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É Team/Project (403 Forbidden)');
  }
  if (response.status === 404) {
    throw new Error('Team/Project –Ω–µ –Ω–∞–π–¥–µ–Ω (404 Not Found)');
  }
  if (response.status === 429) {
    throw new Error('–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
  }
  
  // 3. –ü–∞—Ä—Å–∏–Ω–≥ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  const files = await response.json();
  fs.writeFileSync('files.json', JSON.stringify(files, null, 2));
  
  return { success: true, fileCount: files.files.length };
} catch (error) {
  return { success: false, error: error.message };
}
```

#### 4.2.5 –î–µ–π—Å—Ç–≤–∏—è

**–ö–Ω–æ–ø–∫–∞ "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é"**
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç .env —Ñ–∞–π–ª
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ

**–ö–Ω–æ–ø–∫–∞ "üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ .env"**
- –ß–∏—Ç–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π .env
- –ó–∞–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã

**–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
const canSave = () => {
  const required = [
    'FIGMA_ACCESS_TOKEN',
    'DOWNLOAD_PATH',
    'FIGMA_ACCOUNT_1_EMAIL' || 'FIGMA_ACCOUNT_1_AUTH_COOKIE',
  ];
  
  const missing = required.filter(field => !config[field]);
  
  if (missing.length > 0) {
    showError(`–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: ${missing.join(', ')}`);
    return false;
  }
  
  return true;
};
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
–í—Å–µ –ø–æ–ª—è –Ω–∏–∂–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–µ–∑ –Ω–∏—Ö. –ó–∞–ø—É—Å–∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –ø—Ä–∏ –Ω–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—è—Ö:
- ‚úÖ FIGMA_ACCESS_TOKEN
- ‚úÖ DOWNLOAD_PATH (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏)
- ‚úÖ –ú–∏–Ω–∏–º—É–º 1 –∞–∫–∫–∞—É–Ω—Ç (Email+Password –ò–õ–ò Cookie)
- ‚úÖ WAIT_TIMEOUT
- ‚úÖ MAX_FILES

---

### 4.3 –≠–∫—Ä–∞–Ω "Backup Execution"
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞

#### –§—É–Ω–∫—Ü–∏–∏:
- Dropdown –≤—ã–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥—ã:
  - `npm run start` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—É—Å–∫
  - `npm run retry` ‚Äî –ø–æ–≤—Ç–æ—Ä –Ω–µ—É–¥–∞—á–Ω—ã—Ö
  - `npm run dry-run` ‚Äî –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±–µ–∑ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
  - `npm run run-backup` ‚Äî –ø–æ–ª–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª

- –ë–æ–ª—å—à–æ–µ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:
  - **MVP:** `<textarea>` —Å –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–æ–º
  - **v2:** `xterm.js` —Å —Ü–≤–µ—Ç–Ω—ã–º –≤—ã–≤–æ–¥–æ–º

- –ö–Ω–æ–ø–∫–∏:
  - ‚ñ∂Ô∏è **Start** ‚Äî –∑–∞–ø—É—Å–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
  - ‚èπÔ∏è **Stop** ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ (SIGTERM)
  - üóëÔ∏è **Clear Log** ‚Äî –æ—á–∏—Å—Ç–∫–∞ –æ–∫–Ω–∞

- –°—Ç–∞—Ç—É—Å-–±–∞—Ä:
  - üü¢ Idle / üîµ Running / üî¥ Error
  - –ü—Ä–æ–≥—Ä–µ—Å—Å: "X/Y —Ñ–∞–π–ª–æ–≤ —Å–∫–∞—á–∞–Ω–æ"

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ npm –∫–æ–º–∞–Ω–¥ (execa):

```typescript
import { execa } from 'execa';

class ScriptRunner {
  private process: ReturnType<typeof execa> | null = null;
  
  async runScript(command: string): Promise<void> {
    try {
      this.process = execa('npm', ['run', command], {
        cwd: projectRoot,
        stdio: 'pipe',
        timeout: 3600000 // 1 —á–∞—Å –¥–ª—è –¥–æ–ª–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
      });
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ stdout
      this.process.stdout?.on('data', (data: Buffer) => {
        const text = data.toString();
        mainWindow.webContents.send('script-output', text);
        logger.info(text);
        
        // –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        const progress = parseProgress(text);
        if (progress) {
          mainWindow.webContents.send('script-progress', progress);
        }
      });
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ stderr
      this.process.stderr?.on('data', (data: Buffer) => {
        const text = data.toString();
        mainWindow.webContents.send('script-error', text);
        logger.warn(text);
      });
      
      // –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
      const result = await this.process;
      mainWindow.webContents.send('script-complete', {
        success: true,
        code: 0
      });
      logger.info('–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ');
      
    } catch (error: any) {
      // TIMEOUT
      if (error.timedOut) {
        mainWindow.webContents.send('script-complete', {
          success: false,
          type: 'timeout',
          message: '–ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ (1 —á–∞—Å)'
        });
        logger.error('Timeout: ' + error.message);
      }
      
      // SIGTERM/SIGKILL
      else if (error.signal) {
        mainWindow.webContents.send('script-complete', {
          success: false,
          type: 'killed',
          signal: error.signal,
          message: `–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–µ–Ω —Å–∏–≥–Ω–∞–ª–æ–º: ${error.signal}`
        });
        logger.warn(`–ü—Ä–æ—Ü–µ—Å—Å —É–±–∏—Ç: ${error.signal}`);
      }
      
      // EXIT CODE != 0
      else if (error.code !== undefined) {
        const stderr = error.stderr || '';
        mainWindow.webContents.send('script-complete', {
          success: false,
          type: 'exit-code',
          code: error.code,
          message: `–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏ ${error.code}`,
          stderr
        });
        logger.error(`Exit code ${error.code}: ${stderr}`);
      }
      
      // –î–†–£–ì–ò–ï –û–®–ò–ë–ö–ò
      else {
        mainWindow.webContents.send('script-complete', {
          success: false,
          type: 'unknown',
          message: error.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'
        });
        logger.error('Unknown error: ' + error.message);
      }
    } finally {
      this.process = null;
    }
  }
  
  stopScript(): void {
    if (this.process) {
      this.process.kill('SIGTERM');
      logger.info('–ü—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º');
    }
  }
}
```

#### –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:

```typescript
// –ü—Ä–∏–º–µ—Ä—ã –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
const progressPatterns = [
  /(?:Downloaded|–°–∫–∞—á–∞–Ω–æ|–ó–∞–≥—Ä—É–∑–∏–ª–∏).*?(\d+)\/(\d+)/gi,
  /\[(\d+)\/(\d+)\]/gi,
  /Progress:?\s*(\d+)%/gi,
  /(\d+)\s*of\s*(\d+)\s*files?/gi
];

function parseProgress(text: string): { current: number; total: number } | null {
  for (const pattern of progressPatterns) {
    const match = pattern.exec(text);
    if (match) {
      return {
        current: parseInt(match[1], 10),
        total: parseInt(match[2], 10)
      };
    }
  }
  return null;
}

// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è v2)
// –ï—Å–ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç JSON:
// process.stderr.write(JSON.stringify({
//   type: 'progress',
//   current: 12,
//   total: 45,
//   file: 'design.fig'
// }));
```

---

### 4.4 –≠–∫—Ä–∞–Ω "Statistics & Database"
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±—ç–∫–∞–ø–æ–≤ –∏–∑ SQLite

#### 4.4.1 –¢–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö
–ö–æ–ª–æ–Ω–∫–∏:
- `file_key` ‚Äî –∫–ª—é—á —Ñ–∞–π–ª–∞
- `project_name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `file_name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
- `last_backup_date` ‚Äî –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±—ç–∫–∞–ø–∞
- `last_modified_date` ‚Äî –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Figma
- `next_attempt_date` ‚Äî –¥–∞—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–∏ (–¥–ª—è –æ—à–∏–±–æ–∫)

–§—É–Ω–∫—Ü–∏–∏:
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º (–∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫)
- –ü–æ–∏—Å–∫ –ø–æ `file_name` –∏ `project_name`
- –§–∏–ª—å—Ç—Ä: "–¢–æ–ª—å–∫–æ —Ç—Ä–µ–±—É—é—â–∏–µ –±—ç–∫–∞–ø–∞"

#### 4.4.2 –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
–ö–∞—Ä—Ç–æ—á–∫–∏ —Å —á–∏—Å–ª–∞–º–∏:
- üìä –í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ –≤ –ë–î
- ‚è≥ –§–∞–π–ª–æ–≤ —Ç—Ä–µ–±—É—é—â–∏—Ö –±—ç–∫–∞–ø–∞
- ‚ùå –§–∞–π–ª–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏ (next_attempt_date –Ω–µ NULL)

#### 4.4.3 –î–µ–π—Å—Ç–≤–∏—è
- **üîÑ –û–±–Ω–æ–≤–∏—Ç—å** ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î
- **üì• –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
- **üîß –°–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫–∏** ‚Äî UPDATE `next_attempt_date = NULL`

SQL –∑–∞–ø—Ä–æ—Å –¥–ª—è "—Ç—Ä–µ–±—É—é—â–∏—Ö –±—ç–∫–∞–ø–∞":
```sql
SELECT * FROM backups 
WHERE (last_modified_date > last_backup_date OR last_backup_date IS NULL)
  AND (next_attempt_date IS NULL OR next_attempt_date <= datetime('now'))
ORDER BY last_backup_date ASC
```

---

### 4.5 –≠–∫—Ä–∞–Ω "Settings"
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–º–æ–≥–æ GUI

#### –§—É–Ω–∫—Ü–∏–∏:
- **–ü—É—Ç—å –∫ Node.js:** –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ + —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ (readonly –ø–æ–ª–µ)
- **–ü—É—Ç—å –∫ npm:** –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ + —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ (readonly –ø–æ–ª–µ)
- **–ü–æ–∫–∞–∑–∞—Ç—å Dev Tools:** checkbox (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
- **–£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:** dropdown (Error / Info / Debug)
- **–°—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:** dropdown (Light / Dark ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è v2)

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GUI —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ `~/.config/figma-export-gui/` (–¥–ª—è v2 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º electron-store).

---

### 4.6 –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 4.6.1 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Å–æ–±—ã—Ç–∏—è GUI –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–∞–π–ª `logs/figma-export-gui.log`:

```typescript
// logger.ts
import fs from 'fs';
import path from 'path';

class Logger {
  private logFile: string;
  private maxLogSize = 10 * 1024 * 1024; // 10MB
  private maxLogFiles = 5;
  
  constructor() {
    this.logFile = path.join(app.getPath('userData'), 'logs', 'figma-export-gui.log');
    this.ensureLogDir();
  }
  
  private ensureLogDir() {
    const dir = path.dirname(this.logFile);
    if (!fs.existsSync(dir)) {
      fs.mkdirSync(dir, { recursive: true });
    }
  }
  
  log(level: string, message: string): void {
    const timestamp = new Date().toISOString();
    const logEntry = `[${timestamp}] [${level}] ${message}\n`;
    
    fs.appendFileSync(this.logFile, logEntry);
    
    // –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
    this.rotateLogsIfNeeded();
  }
  
  private rotateLogsIfNeeded(): void {
    const stats = fs.statSync(this.logFile);
    if (stats.size > this.maxLogSize) {
      const dir = path.dirname(this.logFile);
      const files = fs.readdirSync(dir)
        .filter(f => f.startsWith('figma-export-gui'))
        .sort()
        .reverse();
      
      if (files.length >= this.maxLogFiles) {
        fs.unlinkSync(path.join(dir, files[files.length - 1]));
      }
      
      const timestamp = Date.now();
      fs.renameSync(this.logFile, `${this.logFile}.${timestamp}`);
    }
  }
  
  info(message: string): void { this.log('INFO', message); }
  warn(message: string): void { this.log('WARN', message); }
  error(message: string): void { this.log('ERROR', message); }
  debug(message: string): void { this.log('DEBUG', message); }
}
```

#### 4.6.2 –≠–∫—Ä–∞–Ω "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ –æ—à–∏–±–∫–∞—Ö)

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ:
- ‚úÖ Node.js –≤–µ—Ä—Å–∏—è –∏ –ø—É—Ç—å
- ‚úÖ npm –≤–µ—Ä—Å–∏—è –∏ –ø—É—Ç—å
- ‚úÖ –í–µ—Ä—Å–∏—è GUI, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (node_modules, Playwright)
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ (DOWNLOAD_PATH)
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ Figma API (ping)
- ‚úÖ –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞ (–µ—Å–ª–∏ –±—ã–ª–∞)
- üìÅ –¢–µ–∫—É—â–∏–π –ª–æ–≥-—Ñ–∞–π–ª (—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–π)

---

## 5. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 5.1 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ó–∞–ø—É—Å–∫ GUI < 3 —Å–µ–∫—É–Ω–¥
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (5-10 –º–∏–Ω—É—Ç)
- –û—Ç–∫–ª–∏–∫ UI: < 100–º—Å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 5.2 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `contextBridge` –¥–ª—è IPC
- `nodeIntegration: false` –≤ BrowserWindow
- `contextIsolation: true`
- **–¢–æ–∫–µ–Ω—ã Figma –ù–ò–ö–û–ì–î–ê –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ GUI**
- –¢–æ–∫–µ–Ω—ã –≤–≤–æ–¥—è—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ –ø–æ–ª–µ password ‚Üí —Å—Ä–∞–∑—É —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ .env
- Main process –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ IPC ‚Üí –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ .env
- Renderer process –ù–ï –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–º—É .env

```typescript
// preload.ts - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π API
contextBridge.exposeInMainWorld('api', {
  // –¢–æ–∫–µ–Ω –≤–≤–æ–¥–∏—Ç—Å—è –≤ UI, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Main, Main —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ .env
  saveToken: (token: string) => ipcRenderer.invoke('save-token', token),
  
  // –ß—Ç–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äî –ù–ï —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è Renderer
  // (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ Main –¥–ª—è API –≤—ã–∑–æ–≤–æ–≤)
  verifyToken: () => ipcRenderer.invoke('verify-token')
});
```

### 5.3 –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- macOS 11+ (Big Sur –∏ –Ω–æ–≤–µ–µ)
- Node.js 20 LTS
- Electron 27+

### 5.4 Usability
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (–æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## 6. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

### 6.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js

| –†–µ—à–µ–Ω–∏–µ | –í–µ—Å | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | –í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|---------|-----|-----------|------------------|--------------| 
| **System + Homebrew** | 0MB | 80% | 1-2 –¥–Ω—è | ‚≠ê **MVP –æ—Å–Ω–æ–≤–Ω–æ–µ** |
| **Bundled Node.js** | +50MB | 99% | 3-4 –¥–Ω—è | ‚≠ê **–†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç** |
| Docker | 2GB+ | 100% | 3-5 –¥–Ω–µ–π | ‚ùå –ù–µ—Ç |

**–í—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** System Node.js —Å –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —á–µ—Ä–µ–∑ Homebrew (–æ—Å–Ω–æ–≤–Ω–æ–µ). Bundled –≤–∞—Ä–∏–∞–Ω—Ç –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ –¥–ª—è MVP
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `brew install node@20`
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å bundled –≤–µ—Ä—Å–∏—é –≤ v1.1

**Bundled –≤–∞—Ä–∏–∞–Ω—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –ó–∞–≥—Ä—É–∑–∏—Ç—å Node.js v20 –∏ —É–ø–∞–∫–æ–≤–∞—Ç—å –≤ `gui/resources/node/`
- –ù–∞ –∑–∞–ø—É—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `gui/resources/node/bin/node`
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç 100% —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

---

### 6.2 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

| –†–µ—à–µ–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | UX –∫–∞—á–µ—Å—Ç–≤–æ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|---------|-----------|-------------|--------------| 
| **textarea** | –ù–∏–∑–∫–∞—è | –ë–∞–∑–æ–≤–æ–µ | ‚≠ê **MVP** |
| **xterm.js** | –°—Ä–µ–¥–Ω—è—è | –û—Ç–ª–∏—á–Ω–æ–µ | ‚≠ê **v2** |

**–í—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Textarea –¥–ª—è MVP, xterm.js –¥–ª—è v2

---

### 6.3 –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (–°–¢–†–ê–¢–ï–ì–ò–Ø –î–õ–Ø MVP)

**–¢–û–õ–¨–ö–û .env —Ñ–∞–π–ª ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ MVP.**

–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ —Ñ–∞–π–ª–∞ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

GUI –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä .env (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –ø—Ä–æ—Å—Ç–æ —Ñ–æ—Ä–º–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ).

**–ü–æ—á–µ–º—É —Ç–æ–ª—å–∫–æ .env:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ (–æ–¥–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
- electron-store –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ MVP
- .env –∑–Ω–∞–∫–æ–º –∫–∞–∂–¥–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É
- –õ–µ–≥–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–ú–∏–≥—Ä–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**

```typescript
// config-migration.ts
class ConfigMigrator {
  private currentVersion = '1.0';
  
  loadConfig(): any {
    const env = dotenv.parse(fs.readFileSync('.env', 'utf-8'));
    const configVersion = env.CONFIG_VERSION || '0.0';
    
    if (configVersion !== this.currentVersion) {
      this.migrateConfig(configVersion, this.currentVersion, env);
    }
    
    return env;
  }
  
  migrateConfig(from: string, to: string, config: any): void {
    if (from === '0.0' && to === '1.0') {
      // –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
      // –ù–∞–ø—Ä–∏–º–µ—Ä: FIGMA_EMAIL ‚Üí FIGMA_ACCOUNT_1_EMAIL
      if (config.FIGMA_EMAIL) {
        config.FIGMA_ACCOUNT_1_EMAIL = config.FIGMA_EMAIL;
        delete config.FIGMA_EMAIL;
      }
    }
    
    // –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
    config.CONFIG_VERSION = this.currentVersion;
    
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
    const envContent = Object.entries(config)
      .map(([key, value]) => `${key}="${value}"`)
      .join('\n');
    fs.writeFileSync('.env', envContent);
  }
}
```

---

### 6.4 –í—ã–±–æ—Ä –º–µ–∂–¥—É execa –∏ child_process

**–í—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** `execa` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ npm –∫–æ–º–∞–Ω–¥

| –ü–∞—Ä–∞–º–µ—Ç—Ä | child_process.spawn | execa |
|----------|-------------------|-------|
| **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** | –ù—É–∂–Ω—ã –¥–æ–ø. –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–∞ |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** | –°–ª–∞–±–∞—è | ‚úÖ –õ—É—á—à–µ |
| **Shell escaping** | –†—É—á–Ω–æ–µ | ‚úÖ –ê–≤—Ç–æ–º–∞—Ç |
| **–†–∞–∑–º–µ—Ä** | –í—Å—Ç—Ä–æ–µ–Ω–æ | +100KB |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** | –°—Ç–∞–±–∏–ª—å–Ω–æ | –ë–æ–ª–µ–µ –≥–∏–±–∫–æ |

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ:**
```typescript
import { execa } from 'execa';

const result = await execa('npm', ['run', 'start'], {
  cwd: projectRoot,
  stdio: 'pipe',
  timeout: 3600000
});
```

---

### 6.5 UI Framework –∏ TypeScript

**–í—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** TypeScript –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –í–∞–Ω–∏–ª–ª–∞ JS —Å HTML/CSS –¥–ª—è MVP

| –ü–æ–¥—Ö–æ–¥ | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | –í–µ—Å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|-----------|---------|-----|-------------|
| **TypeScript + Vanilla** | 1-2 –¥–Ω—è | ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ | ~0KB | ‚≠ê **MVP** |
| **TypeScript + React** | 2-3 –¥–Ω—è | ‚úÖ –•–æ—Ä–æ—à–æ | +100KB | ‚≠ê **v1.1+** |
| **TypeScript + Vue 3** | 2 –¥–Ω—è | ‚úÖ –•–æ—Ä–æ—à–æ | +40KB | ‚≠ê **v1.1+** |
| **TypeScript + Svelte** | 1-2 –¥–Ω—è | ‚úÖ –•–æ—Ä–æ—à–æ | +20KB | ‚≠ê **v1.1+** |

**–í—ã–≤–æ–¥:** TypeScript –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –í–∞–Ω–∏–ª–ª–∞ —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –¥–ª—è MVP.

---

### 6.6 –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–í—ã–±—Ä–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** SQLite –¥–ª—è MVP

| –ë–î | –ó–∞–ø—Ä–æ—Å—ã | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|----|---------|--------------------|-----------|-------------|
| **SQLite** | ‚úÖ SQL | –û—Ç–ª–∏—á–Ω–∞—è | –°—Ä–µ–¥–Ω—è—è | ‚≠ê **MVP** |
| **JSON —Ñ–∞–π–ª** | ‚ùå –ù–µ—Ç | –°–ª–∞–±–∞—è (>1000 –∑–∞–ø–∏—Å–µ–π) | –ù–∏–∑–∫–∞—è | ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç |
| **LevelDB** | ‚ùå –ù–µ—Ç | –û—Ç–ª–∏—á–Ω–∞—è | –°—Ä–µ–¥–Ω—è—è | ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–æ |

---

## 7. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π

### 7.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ GUI –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ (v2)

**–í MVP:** –ë–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–î–ª—è v2 —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å:**
```typescript
// auto-updater.ts (–¥–ª—è v2)
import { autoUpdater } from 'electron-updater';

class AppUpdater {
  checkForUpdates(): void {
    autoUpdater.checkForUpdatesAndNotify();
  }
  
  onUpdateAvailable(): void {
    // Notify user
    mainWindow.webContents.send('update-available');
  }
}
```

### 7.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

```typescript
// –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
if (processExitCode === 0) {
  new Notification({
    title: 'Figma Export',
    body: `‚úÖ –ë—ç–∫–∞–ø –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!\n45 —Ñ–∞–π–ª–æ–≤ —Å–∫–∞—á–∞–Ω–æ –∑–∞ 20 –º–∏–Ω—É—Ç`,
    tag: 'figma-export-complete',
    icon: 'path/to/icon.png'
  }).onclick = () => {
    mainWindow.focus();
  };
}

// –ü—Ä–∏ –æ—à–∏–±–∫–µ
if (processExitCode !== 0) {
  new Notification({
    title: 'Figma Export',
    body: `‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏.`,
    tag: 'figma-export-error'
  });
}
```

---

## 8. –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
- **–í–ª–∏—è–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
  - –ß–µ—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (sudo)
  - –†–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: bundled Node.js –≤ v1.1

### –†–∏—Å–∫ 2: Playwright –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
- **–í–ª–∏—è–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
  - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º

### –†–∏—Å–∫ 3: –°–∫—Ä–∏–ø—Ç –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è
- **–í–ª–∏—è–Ω–∏–µ:** –í—ã—Å–æ–∫–æ–µ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
  - –ù–ï –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
  - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ GUI –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
  - –¢–µ—Å—Ç—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –†–∏—Å–∫ 4: –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Ç—è–º–∏ –Ω–∞ macOS (–ø—Ä–æ–±–µ–ª—ã, –∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
- **–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
  - –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Ç–µ–π –≤ –∫–æ–º–∞–Ω–¥–∞—Ö (execa –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —ç—Ç–∞–ø–µ –≤–≤–æ–¥–∞
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏

### –†–∏—Å–∫ 5: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π npm –ø–∞–∫–µ—Ç–æ–≤
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è
- **–í–ª–∏—è–Ω–∏–µ:** –í—ã—Å–æ–∫–æ–µ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
  - –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å compatible versions –≤ package.json
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `npm ci` –≤–º–µ—Å—Ç–æ `npm install` (–¥–ª—è reproducible builds)
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Node.js v20 LTS –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
  - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ –≤ `package-lock.json`

```json
{
  "dependencies": {
    "electron": "^27.0.0",
    "better-sqlite3": "^9.0.0",
    "dotenv": "^16.0.0",
    "execa": "^8.0.0"
  },
  "engines": {
    "node": ">=20.0.0",
    "npm": ">=10.0.0"
  }
}
```

### –†–∏—Å–∫ 6: –£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –¥–æ–ª–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:** –ù–∏–∑–∫–∞—è
- **–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å maxBuffer –¥–ª—è child_process: 10MB
  - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ –≤ –ø–∞–º—è—Ç–∏ (–º–∞–∫—Å–∏–º—É–º 1000 —Å—Ç—Ä–æ–∫ –≤ textarea)
  - Timeout: 1 —á–∞—Å –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 10+ —á–∞—Å–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö

---

## 9. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (1-2 –¥–Ω—è)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ `gui/`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `package.json` –¥–ª—è Electron + TypeScript
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ `start-gui.command` –ª–∞—É–Ω—á–µ—Ä–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `main.ts` —Å –±–∞–∑–æ–≤—ã–º –æ–∫–Ω–æ–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞ –Ω–∞ macOS

### –§–∞–∑–∞ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (2-3 –¥–Ω—è)
- ‚úÖ –ú–æ–¥—É–ª—å `node-checker.ts`
- ‚úÖ –ú–æ–¥—É–ª—å `installer.ts` —Å –ø–æ–ª–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- ‚úÖ UI —ç–∫—Ä–∞–Ω "Welcome/Installation"
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

### –§–∞–∑–∞ 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (2-3 –¥–Ω—è)
- ‚úÖ –ú–æ–¥—É–ª—å `env-manager.ts`
- ‚úÖ –ú–æ–¥—É–ª—å `validator.ts` —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Figma API
- ‚úÖ UI —ç–∫—Ä–∞–Ω "Configuration"

### –§–∞–∑–∞ 4: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±—ç–∫–∞–ø–∞ (3-4 –¥–Ω—è)
- ‚úÖ –ú–æ–¥—É–ª—å `script-runner.ts` —Å –ø–æ–ª–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ (execa)
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏–∑ –≤—ã–≤–æ–¥–∞
- ‚úÖ UI —ç–∫—Ä–∞–Ω "Backup Execution"
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –§–∞–∑–∞ 5: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ë–î (2-3 –¥–Ω—è)
- ‚úÖ –ú–æ–¥—É–ª—å `db-reader.ts`
- ‚úÖ UI —ç–∫—Ä–∞–Ω "Statistics & Database"

### –§–∞–∑–∞ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞ (2-3 –¥–Ω—è)
- ‚úÖ –ú–æ–¥—É–ª—å `logger.ts` —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –ª–æ–≥–æ–≤
- ‚úÖ UI —ç–∫—Ä–∞–Ω "Settings" –∏ "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ UX/UI
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ macOS

### –§–∞–∑–∞ 7: –£–ø–∞–∫–æ–≤–∫–∞ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ (1 –¥–µ–Ω—å)
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- ‚úÖ README –¥–ª—è GUI
- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ª–∏–∑–∞ –Ω–∞ GitHub
- ‚úÖ –í–∏–¥–µ–æ-–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

**–ò–¢–û–ì–û: 13-19 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**

---

## 10. –ö–æ–Ω—Ç—Ä–æ–ª—å —ç—Ç–∞–ø–æ–≤ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã):**
- üì• **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤** ‚Äî –∑–∞–ø—É—Å–∫ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–∞
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä .env –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤, –∞–∫–∫–∞—É–Ω—Ç–æ–≤, –ø—É—Ç–µ–π, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ / –ë–∞–∑–∞** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ñ–∏–ª—å—Ç—Ä, —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- üîß **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ –æ—à–∏–±–∫–∞—Ö)

**–õ–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
- –°–≤–æ–±–æ–¥–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ (–Ω–µ—Ç –ª–∏–Ω–µ–π–Ω–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞)
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –ø—Ä–∏ –Ω–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—è—Ö
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

---

## 11. –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ (v2)

### –£–ª—É—á—à–µ–Ω–∏—è UX
- ‚ú® xterm.js –¥–ª—è —Ü–≤–µ—Ç–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
- ‚ú® –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub Releases
- ‚ú® –¢–µ–º–Ω—ã–π —Ä–µ–∂–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üîí electron-store —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤
- üîí CSP (Content Security Policy)
- üîí Bundled Node.js –¥–ª—è –ø–æ–ª–Ω–æ–π –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- üìÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±—ç–∫–∞–ø–æ–≤ (cron-like)
- üåê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö workspace
- üìä –ì—Ä–∞—Ñ–∏–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (chart.js)
- ‚òÅÔ∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É–¥–∞–ª–µ–Ω–Ω–æ–π —Å–µ—Ç–µ–≤–æ–π –ø–∞–ø–∫–æ–π
- üì• –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤ –≤ PDF/Excel

### –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å
- ü™ü Windows –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (start-gui.bat)
- üêß Linux –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (start-gui.sh)

---

## 12. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 12.1 –ü—Ä–∏–º–µ—Ä IPC API (Preload)

```typescript
// preload.ts
import { contextBridge, ipcRenderer } from 'electron';

contextBridge.exposeInMainWorld('electronAPI', {
  // System
  checkNodeJS: () => ipcRenderer.invoke('check-nodejs'),
  
  // Installation
  installDependencies: (onProgress: (data: any) => void) => {
    ipcRenderer.on('install-progress', (_, data) => onProgress(data));
    return ipcRenderer.invoke('install-dependencies');
  },
  
  // Environment
  readEnv: () => ipcRenderer.invoke('read-env'),
  writeEnv: (config: Record<string, string>) => ipcRenderer.invoke('write-env', config),
  
  // Scripts
  runScript: (command: string, onOutput: (data: string) => void) => {
    ipcRenderer.on('script-output', (_, data) => onOutput(data));
    return ipcRenderer.invoke('run-script', command);
  },
  stopScript: () => ipcRenderer.invoke('stop-script'),
  
  // Database
  queryDB: (sql: string, params?: any[]) => ipcRenderer.invoke('query-db', sql, params),
  exportCSV: (data: any[]) => ipcRenderer.invoke('export-csv', data),
  
  // Dialogs
  selectDirectory: () => ipcRenderer.invoke('select-directory'),
  
  // Logging
  getLogs: () => ipcRenderer.invoke('get-logs'),
});
```

### 12.2 –ü—Ä–∏–º–µ—Ä –ª–∞—É–Ω—á–µ—Ä–∞ (start-gui.command)

```bash
#!/bin/bash
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
cd "$DIR"

echo "=== Figma Export GUI Launcher ==="

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Node.js
if ! command -v node &> /dev/null; then
    echo "‚ùå Node.js –Ω–µ –Ω–∞–π–¥–µ–Ω!"
    echo "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Homebrew..."
    
    if ! command -v brew &> /dev/null; then
        /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    fi
    
    brew install node@20
    export PATH="/usr/local/opt/node@20/bin:$PATH"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
NODE_VERSION=$(node --version | cut -d'v' -f2 | cut -d'.' -f1)
if [ "$NODE_VERSION" -lt 20 ]; then
    echo "‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è Node.js v20+. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –æ–±–Ω–æ–≤–∏—Ç–µ."
    exit 1
fi

echo "‚úÖ Node.js v$(node --version) –Ω–∞–π–¥–µ–Ω"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ GUI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
if [ ! -d "gui/node_modules" ]; then
    echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ GUI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
    cd gui && npm ci && cd ..
fi

# –ó–∞–ø—É—Å–∫
echo "üöÄ –ó–∞–ø—É—Å–∫ GUI..."
cd gui && npm start
```

### 12.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ .env —Ñ–∞–π–ª–∞

```bash
# –í–µ—Ä—Å–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏)
CONFIG_VERSION="1.0"

# Figma API
FIGMA_ACCESS_TOKEN="figd_abc123def456ghi789jkl012mno345pqr678"

# Accounts - –í–∞—Ä–∏–∞–Ω—Ç A: Email + Password
FIGMA_ACCOUNT_1_TYPE="password"
FIGMA_ACCOUNT_1_EMAIL="user@example.com"
FIGMA_ACCOUNT_1_PASSWORD="password123"

# Accounts - –í–∞—Ä–∏–∞–Ω—Ç B: Auth Cookie
FIGMA_ACCOUNT_2_TYPE="cookie"
FIGMA_ACCOUNT_2_AUTH_COOKIE="__Host-figma.authn=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."

# Paths and settings
DOWNLOAD_PATH="/Users/username/Downloads/Figma Backups"
WAIT_TIMEOUT="10000"
MAX_FILES="45"
RETRY_DELAY_HOURS="72"

# Team/Project selection (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ GUI)
SELECT_TYPE="team"
TEAM_IDS="abc123:def456,ghi789:jkl012"
# –∏–ª–∏
PROJECT_IDS="abc123:def456,ghi789:jkl012"
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω—ã–π PRD (v2.0) –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è GUI –æ–±–µ—Ä—Ç–∫–∏ –Ω–∞–¥ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º Figma-export. –†–µ—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **TypeScript + Electron** –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–ø—Ä–æ—Å—Ç–æ—Ç—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏** —á–µ—Ä–µ–∑ command-—Ñ–∞–π–ª –∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏—è:**
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö git –∏ Node.js (–∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –∏ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏
- ‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π

**–û—Ç–ª–∏—á–∏—è v2.0 –æ—Ç v1.0:**
- ‚úÖ TypeScript –≤–º–µ—Å—Ç–æ –≤–∞–Ω–∏–ª–ª–∞ JS
- ‚úÖ –¢–æ–ª—å–∫–æ `.env` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (no electron-store)
- ‚úÖ Pol–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ npm –∫–æ–º–∞–Ω–¥
- ‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏–∑ –≤—ã–≤–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –Ω–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—è—Ö
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –ª–æ–≥–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ macOS
- ‚úÖ Bundled Node.js –∫–∞–∫ –æ–ø—Ü–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –≠–∫—Ä–∞–Ω –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** 13-19 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
**–†–∏—Å–∫–∏:** –°—Ä–µ–¥–Ω–∏–µ, —Å —á–µ—Ç–∫–æ–π –º–∏—Ç–∏–≥–∞—Ü–∏–µ–π  
**ROI:** –í—ã—Å–æ–∫–∏–π ‚Äî –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–æ—â–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞